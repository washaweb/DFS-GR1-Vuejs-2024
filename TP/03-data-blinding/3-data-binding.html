<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapitre 3 - data binding</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
  <div id="app" class="container py-5">
    <div>
      <h1>Data binding</h1>
      <!-- binding de data simple : -->
      <p>{{title}}</p>
      <p>Prénom de l'utilisateur: {{ user.prenom }}</p>
      <div class="card mb-4">
        <!-- binding d'une expression javascript (ici on concatène le prénom et le nom) -->
        <h2 class="card-header">{{user.prenom + ' ' + user.nom}} </h2>

        <!-- binding d'une liste (boucle) -> v-for :key -->
        <ul class="list-group">
          <!-- syntaxe d'un boucle en vue template syntax -->
          <li v-for="enfant in user.enfants" :key="enfant" class="list-group-item">{{ enfant }}</li>
          <!-- la clé :key doit être unique, on peut utiliser un index : -->
           <li v-for="(enfant, index) in user.enfants" :key="index + '-' + enfant" class="list-group-item">
            {{index}} - {{ enfant }}
           </li>
        </ul>
      </div>

       <!-- condition dans un template -->
       <p v-if="user.age > 18">Access granted</p>
       <p v-else-if="user.age === 18">Congrats</p>
       <p v-else>Access denied</p>

       <!-- même chose que v-if, mais la balise est présent dans le code source de la page, avec un style="display: none" çad masqué si la condition est fausse -->
       <p v-show="user.age > 18">test</p>
       <!-- binding d'attribut (classique), ici on rend la source de l'image dynamique avec v-bind: -->
       <!-- <img v-bind:src="imageExemple" alt="image exemple"> -->
        <!-- on peut simplifier avec juste :src="" -->
       <img :src="imageExemple" :alt="imageTitle">

       <!-- binding de classes et de styles -->
        <!-- un classe dynamique permet de styler la couleur du texte -->
       <!-- <h2 :class="nomDeClasse">coucou de {{ user.prenom }}</h2> -->
       <!-- <h2 class="py-4" :class="{ 
        'text-success': user.age >= 18,
        'text-danger': user.age < 18
      }">coucou de {{ user.prenom }}</h2> -->
       <h2 class="py-4" :class="[
       { 
        'text-success': user.age >= 18,
        'text-danger': user.age < 18
      }, 
      nomDeClasse,
      'h1' 
      ]">coucou de {{ user.prenom }}</h2>

      <!-- binding de style -->
      <p :style="{
        'background-color': user.age == 18 ? 'green' : '',
        color: 'cyan' 
      }">Exemple de binding de style</p>

      <!-- Voir la documentation ici:
      https://vuejs.org/guide/essentials/class-and-style.html#class-and-style-bindings -->

      <!-- exercice : faite la liste des animaux en utilisant une boucle v-for -->
      <!-- Exercice 2: dans la liste des animaux, utilisez soit une classe dynamique, soit un style dynamique pour rendre le texte en rouge lorsqu'on affiche 'crocodile' -->
      <ul class="list-group">
        <li 
          v-for="(animal, i) in zoo"
          :key="i+'-'+animal"
          class="list-group-item"
          :class="{
            'text-danger': animal === 'crocodile'
          }"
          :style="{'font-weight': animal === 'crocodile' ? 'bold': ''}"
        >
          {{animal}}
        </li>
       </ul>
    </div>
  </div>
  <!-- toute notre application est externalisée dans un script de type="module" qui permet les imports javascript. -->
  <script type="module" src="js/app.js"></script>
</body>
</html>